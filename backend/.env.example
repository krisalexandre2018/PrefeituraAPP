# ============================================
# SERVIDOR
# ============================================
# Porta onde o servidor Express irá rodar
PORT=3000

# ============================================
# BANCO DE DADOS
# ============================================
# URL de conexão com PostgreSQL
# Formato: postgresql://usuario:senha@host:porta/nome_do_banco
# PRODUÇÃO: Use variável fornecida pelo provedor (Railway, Render, etc)
DATABASE_URL="postgresql://postgres:senha123@localhost:5432/vereadores_db"

# ============================================
# AUTENTICAÇÃO JWT
# ============================================
# Secret para assinar tokens JWT (use uma string aleatória forte)
# Gere com: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET="sua_chave_secreta_muito_segura_aqui_123456"

# Tempo de expiração do token (exemplos: 1h, 2h, 7d, 30d)
JWT_EXPIRES_IN="2h"

# ============================================
# CLOUDINARY (Upload de Imagens)
# ============================================
# Criar conta gratuita em: https://cloudinary.com
# Free tier: 25GB armazenamento + 25GB bandwidth/mês
CLOUDINARY_CLOUD_NAME="seu_cloud_name"
CLOUDINARY_API_KEY="sua_api_key"
CLOUDINARY_API_SECRET="seu_api_secret"

# Pasta onde as imagens serão armazenadas no Cloudinary
CLOUDINARY_FOLDER="vereadores-ocorrencias"

# ============================================
# EMAIL (Nodemailer)
# ============================================
# Configuração SMTP - Gmail é recomendado para desenvolvimento
# IMPORTANTE: Use "Senha de App" do Google (não a senha normal)
# Tutorial: https://support.google.com/accounts/answer/185833
EMAIL_HOST="smtp.gmail.com"
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER="seuemail@gmail.com"
EMAIL_PASS="sua_senha_de_app_google"
EMAIL_FROM="Sistema Vereadores <seuemail@gmail.com>"

# Email do administrador (recebe notificações importantes)
ADMIN_EMAIL="admin@exemplo.com"

# Email da equipe jurídica (recebe notificações de novas ocorrências)
JURIDICO_EMAIL="juridico@exemplo.com"

# ============================================
# CORS E SEGURANÇA
# ============================================
# URLs permitidas para acesso à API (separar por vírgula)
# DESENVOLVIMENTO: http://localhost:19006 (Expo)
# PRODUÇÃO: https://seu-dominio.com
FRONTEND_URL="http://localhost:19006"

# Lista de IPs confiáveis (separar por vírgula) - opcional
# TRUSTED_IPS="192.168.1.1,10.0.0.1"

# ============================================
# RATE LIMITING
# ============================================
# Máximo de requisições por janela de tempo (padrão: 100)
RATE_LIMIT_MAX_REQUESTS=100

# Janela de tempo em minutos (padrão: 15 minutos)
RATE_LIMIT_WINDOW_MS=900000

# ============================================
# UPLOAD DE ARQUIVOS
# ============================================
# Tamanho máximo de arquivo em MB (padrão: 5MB)
MAX_FILE_SIZE_MB=5

# Número máximo de fotos por ocorrência (padrão: 5)
MAX_PHOTOS_PER_OCCURRENCE=5

# ============================================
# AMBIENTE
# ============================================
# Ambiente de execução: development | production | test
NODE_ENV="development"

# Nível de log: error | warn | info | debug
LOG_LEVEL="info"

# Mostrar stack trace de erros (true apenas em desenvolvimento)
SHOW_ERROR_STACK=true
